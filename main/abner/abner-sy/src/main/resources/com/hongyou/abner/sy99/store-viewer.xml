<?xml version="1.0" encoding="UTF-8"?>
<rindja-generic-viewer version="1.0">
    <developer>
        <name>Berlin</name>
    </developer>

    <description>
        门店详情
    </description>

    <title>@title</title>

    <actions>
        <action type="link" icon="add" title="@add" link="/add/@{_companyId}" hidden="storeType == 'AAA'"/>
    </actions>

    <support-statements>
        <statement name="storeType" result="value">
            <column expr="strety"/>
            <table name="strems"/>
            <param column="streid" type="=" expr="id"/>
        </statement>
    </support-statements>

    <statement>
        <table name="strems"/>
        <param column="streid" type="=" expr="id"/>
    </statement>

    <master title="@master.base">
        <scene type="label" name="storeType" expr="strety" title="@STREMS.STRETY"/>
        <scene type="label" name="storeCode" expr="strecd" title="@STREMS.STRECD"/>
        <scene type="label" name="storeName" expr="strenm" title="@STREMS.STRENM"/>
    </master>

    <datatable title="门店">
        <actions>
            <action type="link" icon="add" title="@add" link="/graces/editor/sy99/storeEditor" />
        </actions>

        <statement>
            <table name="strems"/>
            <order by="oprttm desc"/>
        </statement>

        <columns>
            <column type="label" name="storeType" expr="strety" width="160" title="@STREMS.STRETY" filter="text"/>
            <column type="label" name="storeCode" expr="strecd" width="160" title="@STREMS.STRECD" filter="text" tm="3:7"/>
            <column type="label" name="storeName" expr="strenm" width="160" title="@STREMS.STRENM" filter="text"/>
            <column type="tag" name="enabled" expr="enabld" width="70" title="@STREMS.ENABLD" format="@@STREMS.ENABLD"
                    filter="@enabled" success="enabled == '可用'" error="enabled != '可用'"/>
        </columns>
    </datatable>

    <intl>
        <lang code="zh-CN">
            <item key="title">门店详情</item>
            <item key="master.base">基础信息</item>
        </lang>

        <lang code="en-US">
            <item key="title">Store Detail</item>
            <item key="master.base">Base Info</item>
        </lang>
    </intl>
</rindja-generic-viewer>