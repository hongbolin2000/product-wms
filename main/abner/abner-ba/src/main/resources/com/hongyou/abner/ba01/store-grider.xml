<?xml version="1.0" encoding="UTF-8"?>
<rindja-generic-grider version="1.0">
    <developer>
        <name>Hong Bo Lin</name>
    </developer>

    <actions>
        <action type="link" icon="add" label="@add" link="/add/@{_companyId}" hidden="storeType == 'AAA'" />
    </actions>

    <support-statements>
        <statement name="storeIds" result="values">
            <column expr="streid"/>
            <table name="voprstr"/>
            <param column="accunt" type="=" expr="_username"/>
        </statement>

        <statement name="storeType" result="value">
            <column expr="strety"/>
            <table name="vstrems"/>
            <param column="strenm" type="=" expr="storeName"/>
        </statement>
    </support-statements>

    <datatable>
        <statement>
            <table name="vstrems"/>
            <param column="strenm" expr="storeName"/>
            <order by="oprttm desc"/>
        </statement>

        <double.click type="query" datatables="detail" input="storeName"/>

        <columns>
            <column type="label" name="enabled" expr="enabld" width="70" title="@STREMS.ENABLD" format="@@STREMS.ENABLD" filterable="true"/>
            <column type="label" name="orderQty" expr="ordqty" width="140" title="@STREMS.ENABLD" format="%#.###" filterable="true"/>
            <column type="label" name="area" expr="areanm" width="140" title="@STREMS.AREAID" filterable="true"/>
            <column type="label" name="storeType" expr="strety" width="160" title="@STREMS.STRETY" filterable="true"/>
            <column type="label" name="storeCode" expr="strecd" width="160" title="@STREMS.STRECD" filterable="true"/>
            <column type="label" name="storeName" expr="strenm" width="160" title="@STREMS.STRENM" resizable="true" filterable="true"/>
            <column type="label" name="provinceName" expr="prvcnm" width="160" title="@STREMS.PRVCNM" filterable="true"/>
            <column type="label" name="cityName" expr="citynm" width="160" title="@STREMS.CITYNM" filterable="true"/>
            <column type="label" name="storeAddress" expr="stread" width="160" title="@STREMS.STREAD" filterable="true"/>
            <column type="label" name="businessStartTime" expr="bssttm" width="160" title="@STREMS.BSSTTM" sortable="true"
                    format="!HH:mm"/>
            <column type="label" name="businessEndTime" expr="bsedtm" width="160" title="@STREMS.BSEDTM" sortable="true"
                    format="!HH:mm"/>
            <column type="label" name="operatorBy" expr="oprtby" width="160" title="@AREAMS.OPRTBY" sortable="true"/>
            <column type="label" name="operatorTime" expr="oprttm" width="160" title="@AREAMS.OPRTTM" sortable="true"
                    format="!yyyy-MM-dd HH:mm"/>
        </columns>
    </datatable>

    <subtable name="detail">
        <statement>
            <table name="vstrems"/>
            <param column="strenm" expr="storeName"/>
<!--            <param column="streid" type="in" expr="storeIds"/>-->
        </statement>

        <columns>
            <column type="label" name="enabled" expr="enabld" width="120" title="@STREMS.ENABLD" format="@@STREMS.ENABLD" filterable="true"/>
            <column type="label" name="orderQty" expr="ordqty" width="120" title="@STREMS.ENABLD" format="%#.###" filterable="true"/>
            <column type="label" name="area" expr="areanm" width="120" title="@STREMS.AREAID" filterable="true"/>
            <column type="label" name="storeType" expr="strety" width="120" title="@STREMS.STRETY" filterable="true"/>
            <column type="label" name="storeCode" expr="strecd" width="120" title="@STREMS.STRECD" filterable="true"/>
            <column type="label" name="storeName" expr="strenm" width="120" title="@STREMS.STRENM" resizable="true" filterable="true"/>
            <column type="label" name="provinceName" expr="prvcnm" width="120" title="@STREMS.PRVCNM" filterable="true"/>
            <column type="label" name="cityName" expr="citynm" width="120" title="@STREMS.CITYNM" filterable="true"/>
            <column type="label" name="storeAddress" expr="stread" width="150" title="@STREMS.STREAD" filterable="true"/>
            <column type="label" name="businessStartTime" expr="bssttm" width="120" title="@STREMS.BSSTTM" sortable="true"
                    format="!HH:mm"/>
            <column type="label" name="businessEndTime" expr="bsedtm" width="120" title="@STREMS.BSEDTM" sortable="true"
                    format="!HH:mm"/>
            <column type="label" name="operatorBy" expr="oprtby" width="90" title="@AREAMS.OPRTBY" sortable="true"/>
            <column type="label" name="operatorTime" expr="oprttm" width="120" title="@AREAMS.OPRTTM" sortable="true"
                    format="!yyyy-MM-dd HH:mm"/>
        </columns>
    </subtable>

    <intl>
        <lang code="zh-CN">
            <item key="add">新增</item>
        </lang>

        <lang code="en-US">
            <item key="add">Add</item>
        </lang>
    </intl>
</rindja-generic-grider>